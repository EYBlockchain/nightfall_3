version: '3.5'
# Use this script for running up nightfall_3 with a blockchain on localhost 8546
services:

  client:
    environment:
      BLOCKCHAIN_WS_HOST: host.docker.internal
      AUTOSTART_RETRIES: 100

  deployer:
    environment:
      LOG_LEVEL: debug
      # ETH_NETWORK sets the network selected by Truffle from truffle-config.js
      # startup routines will wait for a blockchain client to be reachable on this network
      ETH_NETWORK: development
      BLOCKCHAIN_WS_HOST: host.docker.internal

  optimist:
    environment:
      BLOCKCHAIN_WS_HOST: host.docker.internal
      AUTOSTART_RETRIES: 100

  proposer:
    environment:
      BLOCKCHAIN_WS_HOST: host.docker.internal


    #  OPTIMIST_WS_HOST: host.docker.internal
    #  OPTIMIST_WS_PORT: 8082
    #  OPTIMIST_HTTP_HOST: host.docker.internal
    #  OPTIMIST_HTTP_PORT: 8081
    #  CLIENT_HTTP_HOST: host.docker.internal
    #  CLIENT_HTTP_PORT: 8080
