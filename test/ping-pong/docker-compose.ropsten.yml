version: '3.5'
# Use this script for running up nightfall_3 with our geth node on ropsten
services:

  client:
    environment:
      BLOCKCHAIN_WS_HOST: ropsten1-ws.testnet.nightfall3.com
      BLOCKCHAIN_PORT: 80
      AUTOSTART_RETRIES: 10000

  deployer:
    environment:
      LOG_LEVEL: debug
      # ETH_NETWORK sets the network selected by Truffle from truffle-config.js
      # startup routines will wait for a blockchain client to be reachable on this network
      ETH_NETWORK: ropsten
      BLOCKCHAIN_WS_HOST: ropsten1-ws.testnet.nightfall3.com
      BLOCKCHAIN_PORT: 80
      ETH_PRIVATE_KEY: abf4ed9f30bd1e4a290310d726c7bbdf39cd75a25eebd9a3a4874e10b4a0c4ce
      # this should be the address corresponding to the above provate key
      ETH_ADDRESS: '0xdb080dC48961bC1D67a0A4151572eCb824cC76E8'
      USE_ROPSTEN: enable
      GAS_PRICE: 20000000000
      # This is only needed for test purposes - it gives tokens to the user at startup
      USER_ETHEREUM_SIGNING_KEY: abf4ed9f30bd1e4a290310d726c7bbdf39cd75a25eebd9a3a4874e10b4a0c4ce
      USER_ADDRESS: '0xdb080dC48961bC1D67a0A4151572eCb824cC76E8'

  optimist:
    environment:
      BLOCKCHAIN_WS_HOST: ropsten1-ws.testnet.nightfall3.com
      BLOCKCHAIN_PORT: 80
      AUTOSTART_RETRIES: 10000

  proposer:
    environment:
      BLOCKCHAIN_WS_HOST: ropsten1-ws.testnet.nightfall3.com
      BLOCKCHAIN_PORT: 80
      PROPOSER_ETHEREUM_SIGNING_KEY: 645ac79fa9fd87dd1cf30bdca51d326bd501cd328d6dbc9f5f517c7da0dafa6f

  user-local:
    environment:
      BLOCKCHAIN_WS_HOST: ropsten1-ws.testnet.nightfall3.com
      BLOCKCHAIN_PORT: 80
      USER_ETHEREUM_SIGNING_KEY: abf4ed9f30bd1e4a290310d726c7bbdf39cd75a25eebd9a3a4874e10b4a0c4ce
      USER_ADDRESS: '0xdb080dC48961bC1D67a0A4151572eCb824cC76E8'
