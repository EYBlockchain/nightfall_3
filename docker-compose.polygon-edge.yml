version: '3.5'
services:
  client1:
    environment:
      BLOCKCHAIN_WS_HOST: host.docker.internal

      BLOCKCHAIN_PORT: 10002
      BLOCKCHAIN_PATH: /ws
      USE_EXTERNAL_NODE: 'true'
      AUTOSTART_RETRIES: 600
      ETH_NETWORK: edge

  client2:
    environment:
      BLOCKCHAIN_WS_HOST: host.docker.internal

      BLOCKCHAIN_PORT: 10002
      BLOCKCHAIN_PATH: /ws
      USE_EXTERNAL_NODE: 'true'
      AUTOSTART_RETRIES: 600
      ETH_NETWORK: edge

  deployer:
    environment:
      # ETH_NETWORK sets the network selected by Truffle from truffle-config.js
      # startup routines will wait for a blockchain client to be reachable on this network
      BLOCKCHAIN_WS_HOST: host.docker.internal
      BLOCKCHAIN_PORT: 10002
      BLOCKCHAIN_PATH: /ws
      USE_EXTERNAL_NODE: 'true'
      FROM_ADDRESS: "0x5e13E4c3d0eeDda358C2418507f70CE94AC049A6"
      ETH_PRIVATE_KEY: "7d8ba8049e4d4f8b1fabe8d4104400cbc26cddf1b91e8c3472aa80b97ed48d94"
      ETH_NETWORK: edge

  optimist1:
    environment:
      BLOCKCHAIN_WS_HOST: host.docker.internal

      BLOCKCHAIN_PORT: 10002
      BLOCKCHAIN_PATH: /ws
      USE_EXTERNAL_NODE: 'true'
      AUTOSTART_RETRIES: 600
      ETH_NETWORK: edge

  optimist2:
    environment:
      BLOCKCHAIN_WS_HOST: host.docker.internal

      BLOCKCHAIN_PORT: 10002
      BLOCKCHAIN_PATH: /ws
      USE_EXTERNAL_NODE: 'true'
      AUTOSTART_RETRIES: 600
      ETH_NETWORK: edge
